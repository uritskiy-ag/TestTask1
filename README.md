# TestTask1
*Тестовое задание на FastAPI*

*Постановка задачи*
Соискателю предлагается на небольшом тестовом примере продемонстрировать следующие
навыки:
- разработать клиент-серверную (web) систему согласно ТЗ с использованием REST API
- представить систему в виде отчета
- развернуть систему и представить в виде web приложения.

*ТЗ к задаче*
Описание: разработать бэкенд системы добавления данных о качественных показателях железорудного концентрата и просмотра сводной информации по всем концентратам. Качественные показатели железорудного концентрата: содержание железа, содержание кремния, содержание алюминия, содержание кальция, содержание серы. Данные вносятся ежемесячно.
Функциональные требования к системе:
- Многопользовательская архитектура (достаточно 2х пользователей, делать страницы
управления учетными записями не нужно, пользователи заранее внесены в БД).
- Поддержка авторизации
- Должен быть переключатель для выбора месяца.
- Форма отчета должна выводить среднее, минимальное и максимальные значения по всем
концентратам за выбранный месяц.
- Бэк энд и фронт энд взаимодействуют на основе REST API.
- Система реализована на докере, база данных и веб-сервер в отдельных контейнерах

Сценарий демонстрации системы:
В веб интерфейс будут внесены данные под двумя пользователями за разные месяцы и
просмотрены отчеты за это время. Пользователи созданы разработчиком заранее.
Отчет по задаче:
Краткое описание системы, код системы с комментариями, структура базы данных. Либо проект на Github.

*Запуск приложения на локальном компьютере:*

1. Склонировать этот репозиторий на локальный компьютер
2. Убедиться, что в системе установлен docker и docker-compose (используется первая версия)
3. Создать в папке склонированного репозитория новую папку `pg_data`, оставить её пустой.
4. В терминале перейти в папку репозитория и запустить команду `docker-compose up -d --build`
5. Если необходимы тестовые данные в базе, то после старта контейнеров нужно выполнить следующие действия:
    - Запустить в контейнере с базой данных командный процессор bash: `docker-compose exec db bash`
    - Находясь в запущенном bash, выполнить команду `psql -U squirrel squirrel < /tmp/squirrel.dump`. Эта команда запустит копирование в базу данных приложения небольшого сохраненного набора тестовых данных.
    - выйти из bash нажатием `ctrl + d`
6. В браузере по адресу http://localhost:8000/docs можно найти описание роутов приложения, сгенерированное FastAPI, и проверить их работу.
7. Если не были задействованы тестовые данные, и при первом запросе приходит ответ сервера "500", перезапустите контейнер с приложением командой `docker-compose restart back`.
8. Часть роутов приложения требуют аутентификации пользователя. Если были использованы тестовые данные, то в базе будет 2 пользователя со следующими реквизитами:
    - vasiliy@mail.ru / qwerty
    - maria@mail.ru / 123456
